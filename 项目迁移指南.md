# é¡¹ç›®è¿ç§»æŒ‡å— ğŸ“‹

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°†å½“å‰MoneyPrinterTurboé¡¹ç›®ä¸­çš„ä¿®æ”¹å†…å®¹è¿ç§»åˆ°ä½ æ–°forkçš„é¡¹ç›®ä¸­ã€‚

## ğŸ¯ è¿ç§»æ¦‚è¿°

### å½“å‰é¡¹ç›®çš„é‡è¦ä¿®æ”¹
1. **AIæ¨¡å‹é…ç½®** - ç¡…åŸºæµåŠ¨DeepSeek-V3 API
2. **è§†é¢‘ç´ ææº** - é…ç½®ä¸ºæœ¬åœ°ç´ ææ¨¡å¼
3. **é¡¹ç›®æ–‡æ¡£** - åˆ›å»ºäº†è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜æ–‡æ¡£
4. **ç¯å¢ƒé…ç½®** - è§£å†³äº†ä¾èµ–åŒ…å…¼å®¹æ€§é—®é¢˜

## ğŸ“ éœ€è¦è¿ç§»çš„æ–‡ä»¶

### 1. é…ç½®æ–‡ä»¶
- `config.toml` - ä¸»è¦é…ç½®æ–‡ä»¶

### 2. æ–‡æ¡£æ–‡ä»¶
- `å¯åŠ¨è¯´æ˜.md` - é¡¹ç›®å¯åŠ¨æŒ‡å—
- `æœ¬åœ°ç´ æä½¿ç”¨è¯´æ˜.md` - æœ¬åœ°ç´ æä½¿ç”¨æŒ‡å—
- `é¡¹ç›®è¿ç§»æŒ‡å—.md` - æœ¬æ–‡æ¡£

### 3. ç´ ææ–‡ä»¶
- `storage/local_videos/` - æœ¬åœ°è§†é¢‘ç´ æï¼ˆå¯é€‰ï¼‰

## ğŸš€ è¿ç§»æ­¥éª¤

### æ­¥éª¤1ï¼šå¤åˆ¶é…ç½®æ–‡ä»¶

å°†ä»¥ä¸‹é…ç½®å†…å®¹å¤åˆ¶åˆ°æ–°é¡¹ç›®çš„ `config.toml` æ–‡ä»¶ä¸­ï¼š

```toml
[app]
video_source = "local"
hide_config = false
pexels_api_keys = []
pixabay_api_keys = []
llm_provider = "openai"
pollinations_api_key = ""
pollinations_base_url = "https://pollinations.ai/api/v1"
pollinations_model_name = "openai-fast"
ollama_base_url = ""
ollama_model_name = ""
openai_api_key = "sk-ktuflbyyozyoyrznigqkutyiwqhdpttsarpesiahxmwkikvz"
openai_base_url = "https://api.siliconflow.cn/v1"
openai_model_name = "Pro/deepseek-ai/DeepSeek-V3"
moonshot_api_key = ""
moonshot_base_url = "https://api.moonshot.cn/v1"
moonshot_model_name = "moonshot-v1-8k"
oneapi_api_key = ""
oneapi_base_url = ""
oneapi_model_name = ""
g4f_model_name = "gpt-3.5-turbo"
azure_api_key = ""
azure_base_url = ""
azure_model_name = "gpt-35-turbo"
azure_api_version = "2024-02-15-preview"
gemini_api_key = ""
gemini_model_name = "gemini-1.0-pro"
qwen_api_key = ""
qwen_model_name = "qwen-max"
deepseek_api_key = ""
deepseek_base_url = "https://api.deepseek.com"
deepseek_model_name = "deepseek-chat"
subtitle_provider = "edge"
endpoint = ""
material_directory = ""
enable_redis = false
redis_host = "localhost"
redis_port = 6379
redis_db = 0
redis_password = ""
max_concurrent_tasks = 5

[whisper]
model_size = "large-v3"
device = "CPU"
compute_type = "int8"

[proxy]

[azure]
speech_key = ""
speech_region = ""

[siliconflow]
api_key = ""

[ui]
hide_log = false
language = "zh"
tts_server = "azure-tts-v1"
voice_name = "zh-CN-XiaoxiaoNeural-Female"
font_name = "MicrosoftYaHeiBold.ttc"
text_fore_color = "#FFFFFF"
font_size = 60
```

### æ­¥éª¤2ï¼šå¤åˆ¶æ–‡æ¡£æ–‡ä»¶

å°†ä»¥ä¸‹æ–‡æ¡£æ–‡ä»¶å¤åˆ¶åˆ°æ–°é¡¹ç›®æ ¹ç›®å½•ï¼š
- `å¯åŠ¨è¯´æ˜.md`
- `æœ¬åœ°ç´ æä½¿ç”¨è¯´æ˜.md`
- `é¡¹ç›®è¿ç§»æŒ‡å—.md`

### æ­¥éª¤3ï¼šè®¾ç½®Pythonç¯å¢ƒ

åœ¨æ–°é¡¹ç›®ä¸­å®‰è£…ä¾èµ–åŒ…ï¼š

```bash
# å®‰è£…åŸºç¡€ä¾èµ–
pip install streamlit fastapi uvicorn loguru openai moviepy

# å®‰è£…è¯­éŸ³ç›¸å…³
pip install edge-tts==6.1.19

# å®‰è£…å…¶ä»–ä¾èµ–
pip install faster-whisper g4f

# å¦‚æœé‡åˆ°ç‰ˆæœ¬å†²çªï¼Œå¯ä»¥é€ä¸ªå®‰è£…å¹¶è§£å†³
```

### æ­¥éª¤4ï¼šåˆ›å»ºç›®å½•ç»“æ„

ç¡®ä¿æ–°é¡¹ç›®æœ‰ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š

```
NewProject/
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ local_videos/          # æœ¬åœ°è§†é¢‘ç´ æç›®å½•
â”‚   â””â”€â”€ tasks/                 # ç”Ÿæˆçš„è§†é¢‘ä»»åŠ¡
â”œâ”€â”€ config.toml                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ å¯åŠ¨è¯´æ˜.md               # å¯åŠ¨æŒ‡å—
â”œâ”€â”€ æœ¬åœ°ç´ æä½¿ç”¨è¯´æ˜.md       # ç´ æä½¿ç”¨æŒ‡å—
â””â”€â”€ é¡¹ç›®è¿ç§»æŒ‡å—.md           # è¿ç§»æŒ‡å—
```

### æ­¥éª¤5ï¼šè¿ç§»ç´ ææ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æœ‰å‡†å¤‡å¥½çš„æœ¬åœ°è§†é¢‘ç´ æï¼Œå¯ä»¥å¤åˆ¶åˆ°æ–°é¡¹ç›®ï¼š

```bash
# å¤åˆ¶MP4æ–‡ä»¶ï¼ˆæ¨èï¼‰
copy "storage\local_videos\*.mp4" "æ–°é¡¹ç›®è·¯å¾„\storage\local_videos\"
```

## ğŸ”§ å¿«é€Ÿè¿ç§»è„šæœ¬

åˆ›å»ºä»¥ä¸‹æ‰¹å¤„ç†è„šæœ¬ `migrate.bat` æ¥å¿«é€Ÿè¿ç§»ï¼š

```bat
@echo off
echo é¡¹ç›®è¿ç§»è„šæœ¬å¼€å§‹æ‰§è¡Œ...

set SOURCE_DIR=D:\mycode\other\MoneyPrinterTurbo
set TARGET_DIR=%1

if "%TARGET_DIR%"=="" (
    echo è¯·æä¾›ç›®æ ‡é¡¹ç›®è·¯å¾„
    echo ç”¨æ³•: migrate.bat "ç›®æ ‡é¡¹ç›®è·¯å¾„"
    pause
    exit /b 1
)

echo å¤åˆ¶é…ç½®æ–‡ä»¶...
copy "%SOURCE_DIR%\config.toml" "%TARGET_DIR%\" /Y

echo å¤åˆ¶æ–‡æ¡£æ–‡ä»¶...
copy "%SOURCE_DIR%\å¯åŠ¨è¯´æ˜.md" "%TARGET_DIR%\" /Y
copy "%SOURCE_DIR%\æœ¬åœ°ç´ æä½¿ç”¨è¯´æ˜.md" "%TARGET_DIR%\" /Y
copy "%SOURCE_DIR%\é¡¹ç›®è¿ç§»æŒ‡å—.md" "%TARGET_DIR%\" /Y

echo åˆ›å»ºå¿…è¦ç›®å½•...
if not exist "%TARGET_DIR%\storage\local_videos" mkdir "%TARGET_DIR%\storage\local_videos"
if not exist "%TARGET_DIR%\storage\tasks" mkdir "%TARGET_DIR%\storage\tasks"

echo å¤åˆ¶MP4ç´ ææ–‡ä»¶...
if exist "%SOURCE_DIR%\storage\local_videos\*.mp4" (
    copy "%SOURCE_DIR%\storage\local_videos\*.mp4" "%TARGET_DIR%\storage\local_videos\" /Y
    echo ç´ ææ–‡ä»¶å¤åˆ¶å®Œæˆ
) else (
    echo æœªæ‰¾åˆ°MP4ç´ ææ–‡ä»¶
)

echo è¿ç§»å®Œæˆï¼
echo.
echo ä¸‹ä¸€æ­¥æ“ä½œï¼š
echo 1. è¿›å…¥æ–°é¡¹ç›®ç›®å½•: cd "%TARGET_DIR%"
echo 2. å®‰è£…ä¾èµ–: pip install -r requirements.txt
echo 3. å¯åŠ¨é¡¹ç›®: py -m streamlit run webui/Main.py
pause
```

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
migrate.bat "ä½ çš„æ–°é¡¹ç›®è·¯å¾„"
```

## âœ… è¿ç§»éªŒè¯

è¿ç§»å®Œæˆåï¼Œè¿›è¡Œä»¥ä¸‹éªŒè¯ï¼š

### 1. é…ç½®éªŒè¯
```bash
# å¯åŠ¨é¡¹ç›®
py -m streamlit run webui/Main.py --browser.gatherUsageStats=False --server.enableCORS=True

# æ£€æŸ¥AIæ¨¡å‹æ˜¯å¦æ­£å¸¸å·¥ä½œ
# åœ¨Webç•Œé¢æµ‹è¯•æ–‡æ¡ˆç”ŸæˆåŠŸèƒ½
```

### 2. ç´ æéªŒè¯
```bash
# æ£€æŸ¥æœ¬åœ°ç´ æç›®å½•
dir storage\local_videos\*.mp4

# æµ‹è¯•è§†é¢‘ç”ŸæˆåŠŸèƒ½
```

### 3. åŠŸèƒ½éªŒè¯
- [ ] AIæ–‡æ¡ˆç”Ÿæˆæ­£å¸¸
- [ ] è¯­éŸ³åˆæˆæ­£å¸¸
- [ ] æœ¬åœ°ç´ æè¯»å–æ­£å¸¸
- [ ] è§†é¢‘ç”Ÿæˆå®Œæ•´æµç¨‹æ­£å¸¸

## ğŸ› å¸¸è§é—®é¢˜åŠè§£å†³

### é—®é¢˜1ï¼šä¾èµ–åŒ…ç‰ˆæœ¬å†²çª
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
pip install edge-tts==6.1.19
# å¦‚æœè¿˜æœ‰å†²çªï¼Œé€ä¸ªå®‰è£…å¹¶æŒ‡å®šç‰ˆæœ¬
```

### é—®é¢˜2ï¼šAPI Keyå¤±æ•ˆ
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ç¡…åŸºæµåŠ¨API Keyæ˜¯å¦æœ‰æ•ˆ
- ç¡®è®¤é…ç½®æ–‡ä»¶ä¸­çš„APIé…ç½®æ­£ç¡®

### é—®é¢˜3ï¼šæœ¬åœ°ç´ æè·¯å¾„é—®é¢˜
**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿ `storage/local_videos/` ç›®å½•å­˜åœ¨
- æ£€æŸ¥ç´ ææ–‡ä»¶æ ¼å¼å’Œåˆ†è¾¨ç‡

## ğŸ“ è¿ç§»åçš„é¡¹ç›®ç»“æ„

```
YourNewProject/
â”œâ”€â”€ app/                       # æ ¸å¿ƒåº”ç”¨ä»£ç 
â”œâ”€â”€ webui/                     # Webç•Œé¢
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ local_videos/          # âœ… æœ¬åœ°è§†é¢‘ç´ æ
â”‚   â””â”€â”€ tasks/                 # âœ… ç”Ÿæˆçš„è§†é¢‘ä»»åŠ¡
â”œâ”€â”€ resource/                  # èµ„æºæ–‡ä»¶
â”œâ”€â”€ config.toml               # âœ… å·²é…ç½®çš„é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt          # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ å¯åŠ¨è¯´æ˜.md              # âœ… å¯åŠ¨æŒ‡å—
â”œâ”€â”€ æœ¬åœ°ç´ æä½¿ç”¨è¯´æ˜.md      # âœ… ç´ æä½¿ç”¨æŒ‡å—
â””â”€â”€ é¡¹ç›®è¿ç§»æŒ‡å—.md          # âœ… æœ¬æ–‡æ¡£
```

## ğŸ‰ è¿ç§»å®Œæˆ

æ­å–œï¼æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤ï¼Œä½ åº”è¯¥å·²ç»æˆåŠŸå°†æ‰€æœ‰é‡è¦çš„ä¿®æ”¹è¿ç§»åˆ°æ–°çš„forké¡¹ç›®ä¸­ã€‚

ç°åœ¨ä½ å¯ä»¥ï¼š
1. åœ¨æ–°é¡¹ç›®ä¸­ç»§ç»­å¼€å‘
2. æäº¤ä½ çš„ä¿®æ”¹åˆ°Gitä»“åº“
3. æ·»åŠ æ–°åŠŸèƒ½å’Œæ”¹è¿›
4. ä¸åŸé¡¹ç›®ä¿æŒåŒæ­¥æ›´æ–°

å¦‚æœåœ¨è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒå„ä¸ªè¯´æ˜æ–‡æ¡£æˆ–éšæ—¶å¯»æ±‚å¸®åŠ©ï¼ 